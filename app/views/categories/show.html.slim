- provide(:title, @category.title)

h1 style='text-align: center;'
  = @category.title
p
  pre
    = @category.body
hr
- if current_user.email == @category.user.email || current_user.has_role?(:admin) || current_user.has_role?(:moderator)
  = link_to ' ', edit_category_path(@category), :class => 'glyphicon glyphicon-edit'
  = link_to '', category_path(@category), method: :delete, data: {confirm: 'Are you sure?'}, :class => 'glyphicon glyphicon-trash'
  hr

h5
  strong Comments(#{ @category.messages.size })

= form_for([@category, @category.messages.build]) do |f|
  p
    = f.text_area :content, placeholder: 'Leave a comment', :class => 'form-control'
  p
    = f.submit :'Add comment', { :class => 'btn btn-default' }



- (@messages.size-1).times do |i|
    div
      pre
        h5
          = 'Username: ' + @messages[i].user.name + ', '
          =  @messages[i].created_at.localtime.strftime('%d %b %Y %r')
        br
        strong
          = @messages[i].content
          - if current_user.email == @messages[i].user.email || current_user.has_role?(:admin) || current_user.has_role?(:moderator)
            = link_to ' ', category_message_path(@category.id.to_i, @messages[i].id.to_i), method: :delete, data: { confirm: 'Are you sure?' }, class: 'glyphicon glyphicon-remove'





